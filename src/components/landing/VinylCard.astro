---
import Icon from "../Icon.astro";
---

<div class="relative w-[150px] pb-8">
  <!-- Vinyl disc peeking out -->
  <div class="vinyl-disc"></div>
  <!-- Album cover -->
  <div class="relative z-[2] h-[130px] w-[130px] overflow-hidden rounded shadow-[0_8px_24px_rgba(0,0,0,0.2)]">
    <div class="album-art"></div>
  </div>
  <!-- Spotify button -->
  <div class="absolute -bottom-2 left-1/2 z-[3] flex -translate-x-1/2 items-center gap-1.5 whitespace-nowrap rounded-full bg-black/75 px-3.5 py-1.5 font-body text-[10px] text-white backdrop-blur-sm">
    <Icon name="play" size={12} weight="fill" class="text-white" />
    <span>Listen on Spotify</span>
  </div>
</div>

<style>
  .vinyl-disc {
    position: absolute;
    top: 5px;
    right: -20px;
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background:
      /* Center hole */
      radial-gradient(circle at center, transparent 0%, transparent 6%, #1a1a1a 6.5%),
      /* Label area */
      radial-gradient(circle at center, #8b7355 7%, #a08060 12%, #1a1a1a 13%),
      /* Vinyl grooves */
      radial-gradient(
        circle at center,
        #1a1a1a 14%,
        #303030 15%,
        #1a1a1a 16%,
        #303030 20%,
        #1a1a1a 21%,
        #303030 26%,
        #1a1a1a 27%,
        #303030 32%,
        #1a1a1a 33%,
        #303030 40%,
        #1a1a1a 41%,
        #303030 50%,
        #1a1a1a 51%,
        #303030 62%,
        #1a1a1a 63%,
        #303030 76%,
        #1a1a1a 77%,
        #303030 92%,
        #1a1a1a 93%
      ),
      #1a1a1a;
    box-shadow:
      0 4px 12px rgba(0, 0, 0, 0.4),
      inset 0 0 30px rgba(255, 255, 255, 0.03);
    z-index: 1;
  }

  /* Vinyl sheen/reflection */
  .vinyl-disc::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background:
      linear-gradient(
        120deg,
        transparent 0%,
        transparent 30%,
        rgba(255, 255, 255, 0.15) 40%,
        rgba(255, 255, 255, 0.25) 50%,
        rgba(255, 255, 255, 0.15) 60%,
        transparent 70%,
        transparent 100%
      ),
      linear-gradient(
        240deg,
        transparent 0%,
        transparent 60%,
        rgba(100, 80, 150, 0.12) 70%,
        rgba(80, 120, 180, 0.15) 80%,
        transparent 90%,
        transparent 100%
      );
    pointer-events: none;
  }

  /* Center spindle hole */
  .vinyl-disc::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--color-neutral-400);
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .album-art {
    width: 100%;
    height: 100%;
    background: linear-gradient(145deg, #c8b8a8 0%, #d4c4b4 30%, #b8a898 70%, #a09080 100%);
    position: relative;
  }
  .album-art::before {
    content: "";
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.02) 2px,
      rgba(0, 0, 0, 0.02) 4px
    );
  }
  .album-art::after {
    content: "";
    position: absolute;
    top: 20%;
    left: 10%;
    width: 60%;
    height: 50%;
    background: rgba(60, 50, 40, 0.25);
    border-radius: 50% 50% 40% 40%;
    filter: blur(8px);
  }
</style>
